@page "/AddBook"
@using Microsoft.Extensions.Logging
@using Newtonsoft.Json;
@using WebbDesignBlazorLabb3.Shared;

@inject HttpClient client;

<h3>Add a Book!</h3>

<EditForm Model="@bookToAdd" OnSubmit="@BookSubmit">
	<div class="form-group row">
		<label for="inputISBN" class="col-md-2 col-form-label-lg">
			ISBN:
		</label>
		<div class="col-sm-4 mb-4">
			<InputNumber id="inputISBN" class="form-control" placeholder="ISBN" @bind-Value="bookToAdd.Isbn" />
		</div>
	</div>
	<button type="Submit" class="btn btn-success">Submit</button>
</EditForm>


@if (trigger == 1)
{
	<div>
		<p> Ser bokens info bra ut?</p>
		<label class="mt-3"> ISBN: @bookToAdd.Isbn</label>
		<label class="mt-3"> Titel: @bookToAdd.Title</label>
		<label class="mt-3"> Författare: @bookToAdd.Author</label>
		<label class="mt-3"> Beskrivning: 
			<span class="d-block text-truncate" style="max-width: 750px;">
				@bookToAdd.Description
			</span>
		</label>
		<label class="mt-4"> Sidor: @bookToAdd.Pages</label>
		<label class="mt-3"> Bild </label>
		<img src="@bookToAdd.ImageLink">
		<button class="btn btn-success mt-4"> Spara till databasen</button>
	</div>
}
else if(trigger == 2)
{
	<div class="spinner-border mt-4">

	</div>
}


<!--
	//test ISBN
	//9780141184944
-->

@code{
	public void SendToDB()
	{
		
	}
}

